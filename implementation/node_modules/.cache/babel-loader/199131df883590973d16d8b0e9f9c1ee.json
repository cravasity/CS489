{"ast":null,"code":"var _jsxFileName = \"/Users/juhyun/cs489/factdect/src/Publisher.js\";\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { useLocation } from 'react-router-dom';\nconst Detail = props => {\n  const row = props.row;\n  const title = row.title;\n  const number = props.numbers;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Detail\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 12,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 9\n    }\n  }, publisher), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 9\n    }\n  }, data_num));\n};\nfunction Publisher() {\n  let location = useLocation();\n  {/* 이 페이지에 전달된 정보를 받겠다는 코드입니다 */}\n  {/* 아래 publisher 변수에는 Rank 페이지에서 클릭한 줄의 \"출판사\" 값이 전달됩니다. */}\n  const publisher = location.state.publisher;\n  {/* 정보가 dictionary 꼴로 전달된다고 생각하시면 편할 듯 합니다. { state : {key: value}} 형태로 data가 전달되기 때문에 알짜배기 데이터 값은 location.state.key에 저장됩니다. */}\n  const [rows, setRow] = useState(null);\n  const [numbers, setNumbers] = useState(null);\n  const json_n = JSON.parse(numbers);\n  const data_num = json_n.data_num;\n  const fact_num = json_n.fact_num;\n  const conv_num = json_n.conv_num;\n  const false_num = json_n.false_num;\n  const fact_percent = json_n.fact;\n  const conv_percent = json_n.conv;\n  const false_percent = json_n.false;\n  useEffect(() => {\n    axios.get('/get', {\n      params: {\n        input_pub: publisher\n      }\n    }).then(({\n      data\n    }) => {\n      setRow(data);\n    }).catch(e => {\n      console.error(e.stack);\n    });\n    axios.get('/pub-info', {\n      params: {\n        input_pub: publisher\n      }\n    }).then(({\n      data\n    }) => {\n      setNumbers(data);\n    }).catch(e => {\n      console.error(e.stack);\n    });\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Publisher\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }\n  }, rows && rows.map((v, inx) => {\n    const json_r = JSON.parse(v);\n    return /*#__PURE__*/React.createElement(Detail, {\n      key: inx,\n      row: json_r,\n      numbers: json_n,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 20\n      }\n    });\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }, data_num));\n}\nexport default Publisher;","map":{"version":3,"names":["React","useEffect","useState","axios","useLocation","Detail","props","row","title","number","numbers","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","publisher","data_num","Publisher","location","state","rows","setRow","setNumbers","json_n","JSON","parse","fact_num","conv_num","false_num","fact_percent","fact","conv_percent","conv","false_percent","false","get","params","input_pub","then","data","catch","e","console","error","stack","map","v","inx","json_r","key"],"sources":["/Users/juhyun/cs489/factdect/src/Publisher.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { useLocation } from 'react-router-dom';\n\nconst Detail = (props) => {\n    const row = props.row;\n    const title = row.title;\n    const number = props.numbers;\n    \n\n    return (\n      <div className=\"Detail\">\n        <div>{publisher}</div>\n        <div>{data_num}</div>\n      </div>\n    )\n}\n\nfunction Publisher() {\n    let location = useLocation(); {/* 이 페이지에 전달된 정보를 받겠다는 코드입니다 */}\n    {/* 아래 publisher 변수에는 Rank 페이지에서 클릭한 줄의 \"출판사\" 값이 전달됩니다. */}\n    const publisher = location.state.publisher; {/* 정보가 dictionary 꼴로 전달된다고 생각하시면 편할 듯 합니다. { state : {key: value}} 형태로 data가 전달되기 때문에 알짜배기 데이터 값은 location.state.key에 저장됩니다. */}\n\n    const [rows, setRow] = useState(null);\n    const [numbers, setNumbers] = useState(null);\n    const json_n = JSON.parse(numbers)\n\n    const data_num = json_n.data_num;\n    const fact_num = json_n.fact_num;\n    const conv_num = json_n.conv_num;\n    const false_num = json_n.false_num;\n    const fact_percent = json_n.fact;\n    const conv_percent = json_n.conv;\n    const false_percent = json_n.false;\n\n    useEffect(() => {\n      axios.get('/get', {\n        params: {input_pub: publisher}\n      })\n      .then(({data}) => {\n          setRow(data);\n      })\n      .catch(e => {\n          console.error(e.stack);\n      });\n\n      axios.get('/pub-info', {\n        params: {input_pub: publisher}\n      })\n      .then(({data}) => {\n          setNumbers(data);\n      })\n      .catch(e => {\n          console.error(e.stack);\n      });\n\n    }, []);\n    return (\n      <div className=\"Publisher\">\n        {\n        rows && rows.map((v, inx) => {\n            const json_r = JSON.parse(v)\n            return <Detail key={inx} row={json_r} numbers={json_n}/>\n        })\n    }\n        <div>{data_num}</div>\n      </div>\n    );\n  }\n  \n  export default Publisher;"],"mappings":"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"},"metadata":{},"sourceType":"module"}