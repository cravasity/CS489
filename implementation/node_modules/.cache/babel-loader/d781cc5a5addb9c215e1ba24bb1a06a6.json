{"ast":null,"code":"var _jsxFileName = \"/Users/juhyun/cs489/factdect/src/Publisher.js\";\nimport './Publisher.scss';\nimport React, { useEffect, useState } from 'react';\nimport { Chart as ChartJS, ArcElement, Tooltip, Legend } from \"chart.js\";\nimport { Doughnut } from \"react-chartjs-2\";\nimport axios from 'axios';\nimport { useLocation } from 'react-router-dom';\nimport { styled } from \"styled-components\";\nChartJS.register(ArcElement, Tooltip, Legend);\nconst Detail = props => {\n  const row = props.row;\n  const title = row.title;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Detail\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 9\n    }\n  }, title));\n};\nconst Doghnut = props => {\n  // const data_num = props.data_num;\n  const fact_num = props.fact_num;\n  const conv_num = props.conv_num;\n  const false_num = props.false_num;\n  // const fact_percent = props.fact;\n  // const conv_percent = props.conv;\n  // const false_percent = props.false;\n\n  const Data = {\n    labels: [\"fact\", \"conv\", \"false\"],\n    datasets: [{\n      data: [fact_num, conv_num, false_num],\n      backgroundColor: [\"#1B263B\", \"#415A77\", \"#778DA9\"],\n      borderColor: [\"#1B263B\", \"#415A77\", \"#778DA9\"]\n      // radius:\"50%\",\n    }]\n  };\n\n  const Options = {};\n  const Main = styled.div`\n  display: flex;\n  margin : 0 auto;\n  align-items: center;\n  width: 30%;\n`;\n  return /*#__PURE__*/React.createElement(Main, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Doughnut, {\n    data: Data,\n    options: Options,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }\n  }));\n};\nfunction Publisher() {\n  let location = useLocation();\n  {/* 이 페이지에 전달된 정보를 받겠다는 코드입니다 */}\n  {/* 아래 publisher 변수에는 Rank 페이지에서 클릭한 줄의 \"출판사\" 값이 전달됩니다. */}\n  const publisher = location.state.publisher;\n  {/* 정보가 dictionary 꼴로 전달된다고 생각하시면 편할 듯 합니다. { state : {key: value}} 형태로 data가 전달되기 때문에 알짜배기 데이터 값은 location.state.key에 저장됩니다. */}\n  const [rows, setRow] = useState(null);\n  const [numbers, setNumbers] = useState(null);\n  useEffect(() => {\n    axios.get('/get', {\n      params: {\n        input_pub: publisher\n      }\n    }).then(({\n      data\n    }) => {\n      setRow(data);\n    }).catch(e => {\n      console.error(e.stack);\n    });\n    axios.get('/pub-info', {\n      params: {\n        input_pub: publisher\n      }\n    }).then(({\n      data\n    }) => {\n      setNumbers(data);\n    }).catch(e => {\n      console.error(e.stack);\n    });\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Publisher\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }\n  }, publisher), numbers && numbers.map((v, inx) => {\n    const json_n = JSON.parse(v);\n    const data_num = json_n.data_num;\n    const fact_num = json_n.fact_num;\n    const conv_num = json_n.conv_num;\n    const false_num = json_n.false_num;\n    const fact_percent = json_n.fact;\n    const conv_percent = json_n.conv;\n    const false_percent = json_n.false;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"number_info\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Doghnut, {\n      fact_num: fact_num,\n      conv_num: conv_num,\n      false_num: false_num,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 15\n      }\n    }));\n  }), rows && rows.map((v, inx) => {\n    const json_r = JSON.parse(v);\n    return /*#__PURE__*/React.createElement(Detail, {\n      key: inx,\n      row: json_r,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 20\n      }\n    });\n  }));\n}\nexport default Publisher;","map":{"version":3,"names":["React","useEffect","useState","Chart","ChartJS","ArcElement","Tooltip","Legend","Doughnut","axios","useLocation","styled","register","Detail","props","row","title","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","Doghnut","fact_num","conv_num","false_num","Data","labels","datasets","data","backgroundColor","borderColor","Options","Main","div","options","Publisher","location","publisher","state","rows","setRow","numbers","setNumbers","get","params","input_pub","then","catch","e","console","error","stack","map","v","inx","json_n","JSON","parse","data_num","fact_percent","fact","conv_percent","conv","false_percent","false","json_r","key"],"sources":["/Users/juhyun/cs489/factdect/src/Publisher.js"],"sourcesContent":["import './Publisher.scss';\nimport React, { useEffect, useState } from 'react';\nimport {Chart as ChartJS, ArcElement, Tooltip, Legend} from \"chart.js\";\nimport {Doughnut} from \"react-chartjs-2\";\nimport axios from 'axios';\nimport { useLocation } from 'react-router-dom';\nimport {styled} from \"styled-components\";\n\n\nChartJS.register(ArcElement, Tooltip, Legend);\n\nconst Detail = (props) => {\n    const row = props.row;\n    const title = row.title;   \n    return (\n      <div className=\"Detail\">\n        <div>{title}</div>\n      </div>\n    )\n}\n\nconst Doghnut = (props) => {\n  // const data_num = props.data_num;\n  const fact_num = props.fact_num;\n  const conv_num = props.conv_num;\n  const false_num = props.false_num;\n  // const fact_percent = props.fact;\n  // const conv_percent = props.conv;\n  // const false_percent = props.false;\n\n  const Data = {\n    labels: [\"fact\", \"conv\", \"false\"],\n    datasets: [\n      {\n        data: [fact_num, conv_num, false_num],\n        backgroundColor:[\"#1B263B\", \"#415A77\", \"#778DA9\"],\n        borderColor:[\"#1B263B\", \"#415A77\", \"#778DA9\"],\n        // radius:\"50%\",\n      },\n    ],\n  }\n  const Options = {}\n\n  const Main = styled.div`\n  display: flex;\n  margin : 0 auto;\n  align-items: center;\n  width: 30%;\n`;\n\n  return(\n    <Main>\n      <Doughnut data={Data} options={Options}></Doughnut>\n    </Main>\n  )\n}\n\nfunction Publisher() {\n    let location = useLocation(); {/* 이 페이지에 전달된 정보를 받겠다는 코드입니다 */}\n    {/* 아래 publisher 변수에는 Rank 페이지에서 클릭한 줄의 \"출판사\" 값이 전달됩니다. */}\n    const publisher = location.state.publisher; {/* 정보가 dictionary 꼴로 전달된다고 생각하시면 편할 듯 합니다. { state : {key: value}} 형태로 data가 전달되기 때문에 알짜배기 데이터 값은 location.state.key에 저장됩니다. */}\n\n    const [rows, setRow] = useState(null);\n    const [numbers, setNumbers] = useState(null);\n    \n\n    useEffect(() => {\n      axios.get('/get', {\n        params: {input_pub: publisher}\n      })\n      .then(({data}) => {\n          setRow(data);\n      })\n      .catch(e => {\n          console.error(e.stack);\n      });\n\n      axios.get('/pub-info', {\n        params: {input_pub: publisher}\n      })\n      .then(({data}) => {\n          setNumbers(data);\n      })\n      .catch(e => {\n          console.error(e.stack);\n      });\n\n    }, []);\n    return (\n      <div className=\"Publisher\">\n        <h1>{publisher}</h1>\n      {\n        numbers && numbers.map((v, inx) => {\n          const json_n = JSON.parse(v)\n\n          const data_num = json_n.data_num;\n          const fact_num = json_n.fact_num;\n          const conv_num = json_n.conv_num;\n          const false_num = json_n.false_num;\n          const fact_percent = json_n.fact;\n          const conv_percent = json_n.conv;\n          const false_percent = json_n.false;\n\n          return (\n            <div className=\"number_info\">\n              <Doghnut fact_num={fact_num} conv_num={conv_num} false_num={false_num} />\n            </div>\n          )\n        })\n      }\n      {\n        rows && rows.map((v, inx) => {\n            const json_r = JSON.parse(v)\n            return <Detail key={inx} row={json_r}/>\n        })\n    }\n      </div>\n    );\n  }\n  \n  export default Publisher;"],"mappings":";AAAA,OAAO,kBAAkB;AACzB,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,SAAQC,KAAK,IAAIC,OAAO,EAAEC,UAAU,EAAEC,OAAO,EAAEC,MAAM,QAAO,UAAU;AACtE,SAAQC,QAAQ,QAAO,iBAAiB;AACxC,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,SAAQC,MAAM,QAAO,mBAAmB;AAGxCP,OAAO,CAACQ,QAAQ,CAACP,UAAU,EAAEC,OAAO,EAAEC,MAAM,CAAC;AAE7C,MAAMM,MAAM,GAAIC,KAAK,IAAK;EACtB,MAAMC,GAAG,GAAGD,KAAK,CAACC,GAAG;EACrB,MAAMC,KAAK,GAAGD,GAAG,CAACC,KAAK;EACvB,oBACEhB,KAAA,CAAAiB,aAAA;IAAKC,SAAS,EAAC,QAAQ;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACrBxB,KAAA,CAAAiB,aAAA;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAMR,KAAW,CACd,CAAC;AAEZ,CAAC;AAED,MAAMS,OAAO,GAAIX,KAAK,IAAK;EACzB;EACA,MAAMY,QAAQ,GAAGZ,KAAK,CAACY,QAAQ;EAC/B,MAAMC,QAAQ,GAAGb,KAAK,CAACa,QAAQ;EAC/B,MAAMC,SAAS,GAAGd,KAAK,CAACc,SAAS;EACjC;EACA;EACA;;EAEA,MAAMC,IAAI,GAAG;IACXC,MAAM,EAAE,CAAC,MAAM,EAAE,MAAM,EAAE,OAAO,CAAC;IACjCC,QAAQ,EAAE,CACR;MACEC,IAAI,EAAE,CAACN,QAAQ,EAAEC,QAAQ,EAAEC,SAAS,CAAC;MACrCK,eAAe,EAAC,CAAC,SAAS,EAAE,SAAS,EAAE,SAAS,CAAC;MACjDC,WAAW,EAAC,CAAC,SAAS,EAAE,SAAS,EAAE,SAAS;MAC5C;IACF,CAAC;EAEL,CAAC;;EACD,MAAMC,OAAO,GAAG,CAAC,CAAC;EAElB,MAAMC,IAAI,GAAGzB,MAAM,CAAC0B,GAAI;AAC1B;AACA;AACA;AACA;AACA,CAAC;EAEC,oBACErC,KAAA,CAAAiB,aAAA,CAACmB,IAAI;IAAAjB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACHxB,KAAA,CAAAiB,aAAA,CAACT,QAAQ;IAACwB,IAAI,EAAEH,IAAK;IAACS,OAAO,EAAEH,OAAQ;IAAAhB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAW,CAC9C,CAAC;AAEX,CAAC;AAED,SAASe,SAASA,CAAA,EAAG;EACjB,IAAIC,QAAQ,GAAG9B,WAAW,CAAC,CAAC;EAAE,CAAC;EAC/B,CAAC;EACD,MAAM+B,SAAS,GAAGD,QAAQ,CAACE,KAAK,CAACD,SAAS;EAAE,CAAC;EAE7C,MAAM,CAACE,IAAI,EAAEC,MAAM,CAAC,GAAG1C,QAAQ,CAAC,IAAI,CAAC;EACrC,MAAM,CAAC2C,OAAO,EAAEC,UAAU,CAAC,GAAG5C,QAAQ,CAAC,IAAI,CAAC;EAG5CD,SAAS,CAAC,MAAM;IACdQ,KAAK,CAACsC,GAAG,CAAC,MAAM,EAAE;MAChBC,MAAM,EAAE;QAACC,SAAS,EAAER;MAAS;IAC/B,CAAC,CAAC,CACDS,IAAI,CAAC,CAAC;MAAClB;IAAI,CAAC,KAAK;MACdY,MAAM,CAACZ,IAAI,CAAC;IAChB,CAAC,CAAC,CACDmB,KAAK,CAACC,CAAC,IAAI;MACRC,OAAO,CAACC,KAAK,CAACF,CAAC,CAACG,KAAK,CAAC;IAC1B,CAAC,CAAC;IAEF9C,KAAK,CAACsC,GAAG,CAAC,WAAW,EAAE;MACrBC,MAAM,EAAE;QAACC,SAAS,EAAER;MAAS;IAC/B,CAAC,CAAC,CACDS,IAAI,CAAC,CAAC;MAAClB;IAAI,CAAC,KAAK;MACdc,UAAU,CAACd,IAAI,CAAC;IACpB,CAAC,CAAC,CACDmB,KAAK,CAACC,CAAC,IAAI;MACRC,OAAO,CAACC,KAAK,CAACF,CAAC,CAACG,KAAK,CAAC;IAC1B,CAAC,CAAC;EAEJ,CAAC,EAAE,EAAE,CAAC;EACN,oBACEvD,KAAA,CAAAiB,aAAA;IAAKC,SAAS,EAAC,WAAW;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACxBxB,KAAA,CAAAiB,aAAA;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAKiB,SAAc,CAAC,EAEpBI,OAAO,IAAIA,OAAO,CAACW,GAAG,CAAC,CAACC,CAAC,EAAEC,GAAG,KAAK;IACjC,MAAMC,MAAM,GAAGC,IAAI,CAACC,KAAK,CAACJ,CAAC,CAAC;IAE5B,MAAMK,QAAQ,GAAGH,MAAM,CAACG,QAAQ;IAChC,MAAMpC,QAAQ,GAAGiC,MAAM,CAACjC,QAAQ;IAChC,MAAMC,QAAQ,GAAGgC,MAAM,CAAChC,QAAQ;IAChC,MAAMC,SAAS,GAAG+B,MAAM,CAAC/B,SAAS;IAClC,MAAMmC,YAAY,GAAGJ,MAAM,CAACK,IAAI;IAChC,MAAMC,YAAY,GAAGN,MAAM,CAACO,IAAI;IAChC,MAAMC,aAAa,GAAGR,MAAM,CAACS,KAAK;IAElC,oBACEpE,KAAA,CAAAiB,aAAA;MAAKC,SAAS,EAAC,aAAa;MAAAC,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,gBAC1BxB,KAAA,CAAAiB,aAAA,CAACQ,OAAO;MAACC,QAAQ,EAAEA,QAAS;MAACC,QAAQ,EAAEA,QAAS;MAACC,SAAS,EAAEA,SAAU;MAAAT,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,CAAE,CACrE,CAAC;EAEV,CAAC,CAAC,EAGFmB,IAAI,IAAIA,IAAI,CAACa,GAAG,CAAC,CAACC,CAAC,EAAEC,GAAG,KAAK;IACzB,MAAMW,MAAM,GAAGT,IAAI,CAACC,KAAK,CAACJ,CAAC,CAAC;IAC5B,oBAAOzD,KAAA,CAAAiB,aAAA,CAACJ,MAAM;MAACyD,GAAG,EAAEZ,GAAI;MAAC3C,GAAG,EAAEsD,MAAO;MAAAlD,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,CAAC,CAAC;EAC3C,CAAC,CAEE,CAAC;AAEV;AAEA,eAAee,SAAS"},"metadata":{},"sourceType":"module"}